# QUESTIONS OUVERTES - CCP6 SCRIPTING BASH & POWERSHELL

**Certification TSSR** - CCP6 : Scripts et automatisation  
**10 questions ouvertes**


---

## QUESTION 1 : Script Bash - Sauvegarde automatique (10 pts)

**√ânonc√©** :  
Cr√©ez un script Bash `backup.sh` qui :
- Sauvegarde `/home/user/data` vers `/backup/data_DATE.tar.gz`
- Supprime sauvegardes >7 jours
- Envoie email si √©chec

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 2 : PowerShell - Rapport AD utilisateurs (12 pts)

**√ânonc√©** :  
Script PowerShell qui exporte CSV des utilisateurs AD inactifs (>90 jours) avec colonnes : Nom, Login, OU, Derni√®reConnexion.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 3 : Bash - Analyse logs (8 pts)

**√ânonc√©** :  
Script qui compte occurrences erreurs dans `/var/log/syslog` et affiche top 5 types erreurs.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 4 : PowerShell - Gestion services (10 pts)

**√ânonc√©** :  
Fonction PowerShell `Restart-ServiceSafely` qui red√©marre service SEULEMENT s'il est d√©j√† en cours d'ex√©cution.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 5 : Bash - Monitoring disque (8 pts)

**√ânonc√©** :  
Script qui alerte si partition `/` d√©passe 85% utilisation.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 6 : PowerShell - Nettoyage fichiers (10 pts)

**√ânonc√©** :  
Script qui supprime fichiers `.log` et `.tmp` >30 jours dans `C:\Temp`, avec confirmation et rapport.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 7 : Bash - Cr√©ation utilisateurs CSV (10 pts)

**√ânonc√©** :  
Script qui lit `users.csv` (Prenom,Nom,Groupe) et cr√©e comptes Linux avec mot de passe temporaire.

**Fichier users.csv** :
```
Prenom,Nom,Groupe
Jean,Dupont,rh
Marie,Martin,comptabilite
```

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 8 : PowerShell - Comparaison fichiers (8 pts)

**√ânonc√©** :  
Script qui compare 2 fichiers texte et liste diff√©rences (lignes pr√©sentes dans fichier1 mais pas fichier2).

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 9 : Bash - Parsing arguments (8 pts)

**√ânonc√©** :  
Script `backup.sh` acceptant options : `-s <source>`, `-d <destination>`, `-v` (verbose). Exemple : `./backup.sh -s /data -d /backup -v`

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## QUESTION 10 : PowerShell - Planification t√¢che (10 pts)

**√ânonc√©** :  
Cr√©ez t√¢che planifi√©e qui ex√©cute `C:\Scripts\Rapport.ps1` tous les lundis √† 8h avec compte SYSTEM.

**Votre r√©ponse** :
```
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
____________________________________________________________________________
```

---

## üìä AUTO-√âVALUATION

**Score personnel** : _____ / 94 points  
**Note sur 20** : _____ / 20


